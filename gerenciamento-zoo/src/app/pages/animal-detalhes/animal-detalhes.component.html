<div class="container mt-5">

  <h1>Detalhes Animais</h1>
  <form class="form-control">
    <div class="mt-3">
      <label for="nome" class="form-label">Nome:</label>
      <input type="text" class="form-control" id="nome" placeholder="Nome do animal" value=" {{animal.nome}}" disabled>
    </div>
    <div class="mt-3">
      <label for="descricao" class="form-label">Descrição:</label>
      <input type="text" class="form-control" id="descricao" placeholder="Descrição do animal" value="{{animal.descricao}}" disabled>
    </div>
    <div class="mt-3">
      <label for="dataNascimento" class="form-label">Data de Nascimento:</label>
      <input type="date" class="form-control" id="dataNascimento" placeholder="Data de nascimento do animal" value="{{animal.dataNascimento}}" disabled>
    </div>
    <div class="mt-3">
      <label for="especie" class="form-label">Espécie:</label>
      <input type="text" class="form-control" id="especie" placeholder="Espécie do animal" value="{{animal.especie}}" disabled>
    </div>
    <div class="mt-3">
      <label for="habitat" class="form-label">Habitat:</label>
      <input type="text" class="form-control" id="habitat" placeholder="Habitat do animal" value="{{animal.habitat}}" disabled>
    </div>
    <div class="mt-3">
      <label for="paisOrigem" class="form-label">País de Origem:</label>
      <input type="text" class="form-control" id="paisOrigem" placeholder="País de origem do animal" value="{{animal.paisOrigem}}" disabled>
    </div>

    <form [formGroup]="formulario" *ngIf="cuidados">
      <div class="mt-3">
        <label for="cuidado" class="form-label">Selecione o Cuidado:</label>
        <div class="d-flex align-items-center">
          <select id="cuidado" class="form-control w-50" formControlName="cuidado">
            <option *ngFor="let cuidado of cuidados" [value]="cuidado.id">
              {{ cuidado.nomeCuidado }}
            </option>
          </select>

          <button class="btn btn-success mx-2" (click)="adicionarCuidado()">Adicionar cuidado</button>
        </div>
      </div>

    </form>


    <div>
      <table class="table table-hover table-bordered mt-5">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Frequencia</th>
            <th>Tempo</th>
            <th>Ação</th>
          </tr>
        </thead>
        <tbody>

          @if(animal.cuidados.length > 0){
          @for(cuidado of animal.cuidados; track $index){
          <tr>
            <td>{{cuidado.nomeCuidado}}</td>
            <td>{{cuidado.descricao}}</td>
            <td>{{cuidado.frequencia}}</td>
            <td>{{ UnidadeFrequencia[cuidado.unidadeFrequencia] }}</td>
            <td>
              <button class="btn btn-danger" (click)="removerCuidado(cuidado.id)">Remover</button>
          </tr>
          }

          }@else{
          <tr>
            <td colspan="6" class="text-center">Nenhum cuidado encontrado</td>
          </tr>
          }
        </tbody>
      </table>
    </div>

    <div class="d-flex mt-3">
      <a class="btn btn-info w-50 mx-2" [routerLink]="['/']">Voltar</a>
    </div>
  </form>
</div>